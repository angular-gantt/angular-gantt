{"version":3,"sources":["../src/plugins/tooltips.js","../src/plugins/tooltips/tooltip.directive.js"],"names":[],"mappings":"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","file":"angular-gantt-tooltips-plugin.js","sourcesContent":["(function(){\n    'use strict';\n    angular.module('gantt.tooltips', ['gantt', 'gantt.tooltips.templates']).directive('ganttTooltips', ['$compile', '$document', function($compile, $document) {\n        return {\n            restrict: 'E',\n            require: '^gantt',\n            scope: {\n                enabled: '=?',\n                dateFormat: '=?'\n            },\n            link: function(scope, element, attrs, ganttCtrl) {\n                var api = ganttCtrl.gantt.api;\n\n                // Load options from global options attribute.\n                if (scope.options && typeof(scope.options.tooltips) === 'object') {\n                    for (var option in scope.options.tooltips) {\n                        scope[option] = scope.options[option];\n                    }\n                }\n\n                if (scope.enabled === undefined) {\n                    scope.enabled = true;\n                }\n                if (scope.dateFormat === undefined) {\n                    scope.dateFormat = 'MMM DD, HH:mm';\n                }\n\n                scope.api = api;\n\n                api.directives.on.new(scope, function(directiveName, taskScope, taskElement) {\n                    if (directiveName === 'ganttTask') {\n                        var tooltipScope = taskScope.$new();\n\n                        tooltipScope.pluginScope = scope;\n                        var ifElement = $document[0].createElement('div');\n                        angular.element(ifElement).attr('data-ng-if', 'pluginScope.enabled');\n\n                        var tooltipElement = $document[0].createElement('gantt-tooltip');\n                        if (attrs.templateUrl !== undefined) {\n                            angular.element(tooltipElement).attr('data-template-url', attrs.templateUrl);\n                        }\n                        if (attrs.template !== undefined) {\n                            angular.element(tooltipElement).attr('data-template', attrs.template);\n                        }\n\n                        angular.element(ifElement).append(tooltipElement);\n                        taskElement.append($compile(ifElement)(tooltipScope));\n                    }\n                });\n            }\n        };\n    }]);\n}());\n\n","(function(){\n    'use strict';\n    angular.module('gantt.tooltips').directive('ganttTooltip', ['$timeout', '$compile', '$document', '$templateCache', 'ganttDebounce', 'ganttSmartEvent', function($timeout, $compile, $document, $templateCache, debounce, smartEvent) {\n        // This tooltip displays more information about a task\n\n        return {\n            restrict: 'E',\n            templateUrl: function(tElement, tAttrs) {\n                var templateUrl;\n                if (tAttrs.templateUrl === undefined) {\n                    templateUrl = 'plugins/tooltips/tooltip.tmpl.html';\n                } else {\n                    templateUrl = tAttrs.templateUrl;\n                }\n                if (tAttrs.template !== undefined) {\n                    $templateCache.put(templateUrl, tAttrs.template);\n                }\n                return templateUrl;\n            },\n            scope: true,\n            replace: true,\n            controller: ['$scope', '$element', 'ganttUtils', function($scope, $element, utils) {\n                var bodyElement = angular.element($document[0].body);\n                var parentElement = $scope.task.$element;\n                var showTooltipPromise;\n                var visible = false;\n                var mouseEnterX;\n\n                $element.toggleClass('ng-hide', true);\n\n                $scope.getFromLabel = function() {\n                    var dateFormat = utils.firstProperty([$scope.task.model.tooltips, $scope.task.row.model.tooltips], 'dateFormat', $scope.pluginScope.dateFormat);\n                    return $scope.task.model.from.format(dateFormat);\n                };\n\n                $scope.getToLabel = function() {\n                    var dateFormat = utils.firstProperty([$scope.task.model.tooltips, $scope.task.row.model.tooltips], 'dateFormat', $scope.pluginScope.dateFormat);\n                    return $scope.task.model.to.format(dateFormat);\n                };\n\n                var mouseMoveHandler = smartEvent($scope, bodyElement, 'mousemove', debounce(function(e) {\n                    if (!visible) {\n                        mouseEnterX = e.clientX;\n                        displayTooltip(true, false);\n                    } else {\n                        updateTooltip(e.clientX);\n                    }\n                }, 5, false));\n\n                $scope.task.$element.bind('mousemove', function(evt) {\n                    mouseEnterX = evt.clientX;\n                });\n\n                $scope.task.$element.bind('mouseenter', function(evt) {\n                    mouseEnterX = evt.clientX;\n                    displayTooltip(true, true);\n                });\n\n                $scope.task.$element.bind('mouseleave', function() {\n                    displayTooltip(false);\n                });\n\n                if ($scope.pluginScope.api.tasks.on.moveBegin) {\n                    $scope.pluginScope.api.tasks.on.moveBegin($scope, function(task) {\n                        if (task === $scope.task) {\n                            mouseMoveHandler.bind();\n                        }\n                    });\n\n                    $scope.pluginScope.api.tasks.on.moveEnd($scope, function(task) {\n                        if (task === $scope.task) {\n                            mouseMoveHandler.unbind();\n                            displayTooltip(false);\n                        }\n                    });\n\n                    $scope.pluginScope.api.tasks.on.resizeBegin($scope, function(task) {\n                        if (task === $scope.task) {\n                            mouseMoveHandler.bind();\n                        }\n                    });\n\n                    $scope.pluginScope.api.tasks.on.resizeEnd($scope, function(task) {\n                        if (task === $scope.task) {\n                            mouseMoveHandler.unbind();\n                            displayTooltip(false);\n                        }\n                    });\n                }\n\n                var displayTooltip = function(newValue, showDelayed) {\n                    if (showTooltipPromise) {\n                        $timeout.cancel(showTooltipPromise);\n                    }\n                    var enabled = utils.firstProperty([$scope.task.model.tooltips, $scope.task.row.model.tooltips], 'enabled', $scope.pluginScope.enabled);\n                    if (enabled && !visible && newValue) {\n                        if (showDelayed) {\n                            showTooltipPromise = $timeout(function() {\n                                showTooltip(mouseEnterX);\n                            }, 500, false);\n                        } else {\n                            showTooltip(mouseEnterX);\n                        }\n                    } else if (!newValue) {\n                        if (!$scope.task.active) {\n                            hideTooltip();\n                        }\n                    }\n                };\n\n                var showTooltip = function(x) {\n                    visible = true;\n                    $element.toggleClass('ng-hide', false);\n\n                    $timeout(function() {\n                        updateTooltip(x);\n                        $element.css('top', parentElement[0].getBoundingClientRect().top + 'px');\n                        $element.css('marginTop', -$element[0].offsetHeight - 8 + 'px');\n                        $element.css('opacity', 1);\n                    }, 0, true);\n                };\n\n                var getViewPortWidth = function() {\n                    var d = $document[0];\n                    return d.documentElement.clientWidth || d.documentElement.getElementById('body')[0].clientWidth;\n                };\n\n                var updateTooltip = function(x) {\n                    // Check if info is overlapping with view port\n                    if (x + $element[0].offsetWidth > getViewPortWidth()) {\n                        $element.css('left', (x + 20 - $element[0].offsetWidth) + 'px');\n                        $element.addClass('gantt-task-infoArrowR'); // Right aligned info\n                        $element.removeClass('gantt-task-infoArrow');\n                    } else {\n                        $element.css('left', (x - 20) + 'px');\n                        $element.addClass('gantt-task-infoArrow');\n                        $element.removeClass('gantt-task-infoArrowR');\n                    }\n                };\n\n                var hideTooltip = function() {\n                    visible = false;\n                    $element.css('opacity', 0);\n                    $element.toggleClass('ng-hide', true);\n                };\n\n                if ($scope.task.isMoving) {\n                    // Restore tooltip because task has been moved to a new row\n                    mouseMoveHandler.bind();\n                }\n\n                $scope.gantt.api.directives.raise.new('ganttTooltip', $scope, $element);\n                $scope.$on('$destroy', function() {\n                    $scope.gantt.api.directives.raise.destroy('ganttTooltip', $scope, $element);\n                });\n            }]\n        };\n    }]);\n}());\n\n"]}