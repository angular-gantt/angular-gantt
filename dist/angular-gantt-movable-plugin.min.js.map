{"version":3,"file":"angular-gantt-movable-plugin.min.js","sources":["../src/plugins/movable.js","../src/plugins/movable/movableOptions.factory.js"],"names":["angular","module","directive","mouseButton","mouseOffset","smartEvent","movableOptions","utils","dom","$window","$document","$timeout","restrict","require","scope","enabled","allowMoving","allowResizing","allowRowSwitching","link","element","attrs","ganttCtrl","api","gantt","options","option","movable","initialize","registerEvent","mouseStartOffsetX","moveStartX","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","taskWithSmallWidth","resizeAreaWidthBig","resizeAreaWidthSmall","scrollSpeed","scrollTriggerDistance","directives","on","directiveName","taskScope","taskElement","scrollInterval","windowElement","ganttBodyElement","row","rowsManager","body","$element","ganttScrollElement","scroll","taskHasBeenChanged","taskHasBeenMovedFromAnotherRow","foregroundElement","task","getForegroundElement","contentElement","getContentElement","onPressEvents","evt","preventDefault","getTouch","taskMovable","model","rowMovable","enabledValue","firstProperty","isFunction","taskOffsetX","getOffset","x","mode","getMoveMode","getButton","bodyOffsetX","getOffsetForElement","enableMoveMode","$digest","onMousemove","isMoving","css","getCursor","handleMove","destroyed","clearScrollInterval","moveTask","scrollScreen","oldTaskHasBeenChanged","mousePos","mouseOffsetX","taskOutOfRange","value","moveMode","scrollRect","getBoundingClientRect","rowCenterLeft","left","width","ganttBody","querySelectorAll","targetRowElement","findElementFromPoint","clientY","hasClass","targetRow","rows","i","l","length","sourceRow","undefined","moveTaskToRow","$scope","moveTo","tasks","raise","move","setGlobalCursor","setTo","resize","setFrom","backgroundElement","getBackgroundElement","addClass","moveBegin","resizeBegin","leftScreenBorder","scrollLeft","screenWidth","offsetWidth","scrollWidth","rightScreenBorder","keepOnScrolling","right","cancel","distance","cursor","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","originalModel","originalRow","copy","modelLeft","active","taskMoveHandler","stopImmediatePropagation","moveSmartEvent","bind","unbind","disableMoveMode","bindOnce","removeClass","extend","id","removeTask","$apply","moveEnd","resizeEnd","sortTasks","change","$on","isResizing","factory"],"mappings":"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"}