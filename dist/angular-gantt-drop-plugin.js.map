{"version":3,"sources":["../src/plugins/drop.js","../.tmp/generated/plugins/drop/html2js.js"],"names":[],"mappings":";;;;;;;AAAA,CAAC,QAAQ,GAAG;AACZ,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;AACjB;AACA,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE;AAClC,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;AACpC,IAAI,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;AAC9B,QAAQ,CAAC,KAAK,EAAE;AAChB,QAAQ,CAAC,MAAM,EAAE,UAAU,EAAE,CAAC,GAAG,EAAE,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAE;AAC9F,IAAI,EAAE;AACN;AACA,IAAI,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG;AAChC,IAAI,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG;AAChC,IAAI,GAAG,CAAC,gBAAgB,CAAC;AACzB;AACA,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAChE,QAAQ,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,EAAE;AACtD,QAAQ,GAAG,CAAC,CAAC;AACb,YAAY,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC,CAAC;AACtD,gBAAgB,iBAAiB,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,iBAAiB,EAAE;AAChE,gBAAgB,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC;AAC1D,YAAY,CAAC;AACb,YAAY,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,MAAM,EAAE;AACrD,YAAY,kBAAkB,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE;AAC9D,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrB,YAAY,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,YAAY,kBAAkB,CAAC,IAAI,CAAC,iBAAiB,EAAE;AACvD,QAAQ,CAAC;AACT,IAAI,CAAC;AACL;AACA,IAAI,EAAE,CAAC,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxC,QAAQ,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,SAAS,CAAC,aAAa,CAAC,CAAC,GAAG,GAAG,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;AACzF,YAAY,MAAM,CAAC,CAAC;AACpB,gBAAgB,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;AAC9B,gBAAgB,OAAO,CAAC,CAAC,EAAE,KAAK,EAAE;AAClC,gBAAgB,KAAK,CAAC,CAAC,CAAC;AACxB,oBAAoB,OAAO,CAAC,CAAC,IAAI;AACjC,gBAAgB,EAAE;AAClB,gBAAgB,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;AAClC,oBAAoB,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,IAAI;AACxF,oBAAoB,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAC3E,wBAAwB,gBAAgB,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,EAAE;AACjE;AACA,wBAAwB,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,gBAAgB,CAAC,MAAM,CAAC;AACnE,wBAAwB,EAAE,CAAC,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;AACnD,4BAA4B,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI;AAC9E,wBAAwB,CAAC;AACzB,wBAAwB,EAAE,CAAC,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,CAAC,gBAAgB,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;AAC/F,4BAA4B,YAAY,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,SAAS,CAAC,OAAO,CAAC;AACtF,wBAAwB,CAAC;AACzB;AACA,wBAAwB,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE;AAChD,oBAAoB,CAAC;AACrB,oBAAoB,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,SAAS,GAAG;AACvF,gBAAgB,CAAC;AACjB,YAAY,EAAE;AACd,QAAQ,IAAI;AACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;AACZ,QAAQ,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,kBAAkB,EAAE,SAAS,CAAC,aAAa,CAAC,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE;AACpG,YAAY,CAAC,gBAAgB,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AACzF,YAAY,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG;AACnE,YAAY,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG;AAC9D;AACA,YAAY,MAAM,CAAC,CAAC;AACpB,gBAAgB,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;AAC9B,gBAAgB,OAAO,CAAC,CAAC,EAAE,KAAK,EAAE;AAClC,gBAAgB,KAAK,CAAC,CAAC,CAAC;AACxB,oBAAoB,WAAW,CAAC,CAAC,IAAI;AACrC,gBAAgB,EAAE;AAClB,gBAAgB,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;AAClE,oBAAoB,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC;AAClD;AACA,oBAAoB,GAAG,CAAC,aAAa,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,GAAG;AACvD;AACA,oBAAoB,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC;AAClE,oBAAoB,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;AACvF,wBAAwB,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;AACpE,4BAA4B,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE;AAClE,wBAAwB,CAAC;AACzB,oBAAoB,CAAC;AACrB;AACA,oBAAoB,EAAE,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;AAC1D,wBAAwB,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC;AACjD,oBAAoB,CAAC;AACrB,oBAAoB,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;AACjG,wBAAwB,EAAE,CAAC,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;AAC3D,4BAA4B,cAAc,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC;AAC3E,4BAA4B,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC;AAC7D,4BAA4B,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,GAAG,KAAK,CAAC,EAAE,IAAI;AAC3E,gCAAgC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC;AAChE,gCAAgC,cAAc,EAAE,MAAM,GAAG;AACzD,4BAA4B,EAAE;AAC9B,4BAA4B,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ,GAAG;AAC9D,gCAAgC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC;AACjE,gCAAgC,cAAc,EAAE,MAAM,GAAG;AACzD,4BAA4B,EAAE;AAC9B,4BAA4B,cAAc,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;AAC5D,gCAAgC,SAAS,CAAC,CAAC,CAAC,OAAO,EAAE;AACrD,gCAAgC,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI;AAClE,gCAAgC,MAAM,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI;AAC9D,gCAAgC,UAAU,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK;AACnE,4BAA4B,EAAE;AAC9B,4BAA4B,cAAc,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC;AACnE,4BAA4B,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,EAAE,IAAI;AAC5E,gCAAgC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC;AACjE,gCAAgC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,CAAC;AACvE,gCAAgC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;AACpF,gCAAgC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,GAAG;AACzH,gCAAgC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;AAC5E,gCAAgC,cAAc,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;AACxE;AACA,gCAAgC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,WAAW,EAAE;AAClG,gCAAgC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE;AAC3D,gCAAgC,cAAc,CAAC,GAAG,CAAC,kBAAkB,GAAG;AACxE,gCAAgC,cAAc,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,GAAG;AACpE,4BAA4B,EAAE;AAC9B,wBAAwB,CAAC;AACzB,oBAAoB,GAAG;AACvB;AACA,gBAAgB,CAAC;AACjB,YAAY,EAAE;AACd,QAAQ,IAAI;AACZ,IAAI,CAAC;AACL;AACA,KAAK;AACL;;AC5HA,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,IAAI,GAAG,IAAI,aAAa,EAAE,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;AAC7F,CAAC;AACD,IAAI,CAAC","file":"angular-gantt-drop-plugin.js","sourcesContent":["(function(){\n    'use strict';\n\n    var moduleName = 'gantt.drop';\n    var directiveName = 'ganttDrop';\n    var pluginDependencies = [\n        'gantt',\n        {module:'ngDragDrop', url:'https://github.com/codef0rmer/angular-dragdrop.git#master'}\n    ];\n\n    var failedDependencies = [];\n    var loadedDependencies = [];\n    var failedDependency;\n\n    for (var i = 0, l = pluginDependencies.length; i < l; i++) {\n        var currentDependency = pluginDependencies[i];\n        try {\n            if (angular.isString(currentDependency)) {\n                currentDependency = {module: currentDependency};\n                pluginDependencies[i] = currentDependency;\n            }\n            angular.module(currentDependency.module);\n            loadedDependencies.push(currentDependency.module);\n        } catch (e) {\n            currentDependency.exception = e;\n            failedDependencies.push(currentDependency);\n        }\n    }\n\n    if (failedDependencies.length > 0) {\n        angular.module(moduleName, []).directive(directiveName, ['$log', function($log) {\n            return {\n                restrict: 'E',\n                require: '^gantt',\n                scope: {\n                    enabled: '=?'\n                },\n                link: function() {\n                    $log.warn(moduleName + ' module can\\'t require some dependencies:');\n                    for (var i= 0,l =failedDependencies.length; i<l; i++) {\n                        failedDependency = failedDependencies[i];\n\n                        var errorMessage = failedDependency.module;\n                        if (failedDependency.url) {\n                            errorMessage += ' (' + failedDependency.url + ')';\n                        }\n                        if (failedDependency.exception && failedDependency.exception.message) {\n                            errorMessage += ': ' + failedDependency.exception.message;\n                        }\n\n                        $log.warn(errorMessage);\n                    }\n                    $log.warn(directiveName + ' plugin directive won\\'t be available');\n                }\n            };\n        }]);\n    } else {\n        angular.module(moduleName, loadedDependencies).directive(directiveName, ['$compile', '$log',\n            'ganttMouseOffset', 'moment', function($compile, $log, mouseOffset, moment) {\n            // Provides the row sort functionality to any Gantt row\n            // Uses the sortableState to share the current row\n\n            return {\n                restrict: 'E',\n                require: '^gantt',\n                scope: {\n                    dropEnabled: '=?'\n                },\n                link: function(scope, element, attrs, ganttCtrl) {\n                    var api = ganttCtrl.gantt.api;\n\n                    api.registerEvent('tasks', 'drop');\n\n                    // Load options from global options attribute.\n                    if (scope.options && typeof(scope.options.sortable) === 'object') {\n                        for (var option in scope.options.sortable) {\n                            scope[option] = scope.options[option];\n                        }\n                    }\n\n                    if (scope.dropEnabled === undefined) {\n                        scope.dropEnabled = true;\n                    }\n                    api.directives.on.controller(scope, function(directiveName, directiveScope) {\n                        if (directiveName === 'ganttRow') {\n                            directiveScope.dropEnabled = scope.dropEnabled;\n                            directiveScope.dropHover = false;\n                            directiveScope.onOver = function(/*event,ui*/){\n                                directiveScope.dropHover = true;\n                                directiveScope.$digest();\n                            };\n                            directiveScope.onOut = function(){\n                                directiveScope.dropHover = false;\n                                directiveScope.$digest();\n                            };\n                            directiveScope.jqyouiOptions = {\n                                tolerance: 'pointer',\n                                /*activate: function(event, ui){},\n                                create: function(event, ui){},\n                                deactivate: function(event, ui){}*/\n                            };\n                            directiveScope.droppedTask = undefined;\n                            directiveScope.onDrop = function(event/*, ui*/){\n                                directiveScope.dropHover = false;\n                                var x = mouseOffset.getOffset(event).x;\n                                var startDate = api.core.getDateByPosition(x, true);\n                                var endDate = moment(startDate).add(directiveScope.droppedTask.data.duration, 'minutes');\n                                directiveScope.droppedTask.from = startDate;\n                                directiveScope.droppedTask.to = endDate;\n\n                                var task = directiveScope.row.addTask(directiveScope.droppedTask);\n                                api.tasks.raise.drop(task);\n                                directiveScope.row.updateVisibleTasks();\n                                directiveScope.row.$scope.$digest();\n                            };\n                        }\n                    });\n\n                }\n            };\n        }]);\n    }\n\n}());\n\n","angular.module('gantt.drop.templates', []).run(['$templateCache', function($templateCache) {\r\n\r\n}]);\r\n"]}